function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),i=$("textarea[name='comment']");n.click(function(){var t=i.val(),e=n.attr("news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=$(".comment-list"),s=template("comment-item",{comment:e});n.prepend(s),i.val(""),window.messageBox.showSuccess("发表评论成功！")}else window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb21tZW50IiwiY29tbWVudExpc3QiLCJ0cGwiLCJ0ZW1wbGF0ZSIsInByZXBlbmQiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJzaG93RXJyb3IiLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxZQUlUQSxTQUFTQyxVQUFVQyxrQkFBb0IsV0FDbkMsSUFBSUMsRUFBWUMsRUFBRSxlQUNkQyxFQUFXRCxFQUFFLDRCQUNqQkQsRUFBVUcsTUFBTSxXQUNaLElBQUlDLEVBQVVGLEVBQVNHLE1BQ25CQyxFQUFVTixFQUFVTyxLQUFLLFdBQzdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSlAsUUFBV0EsRUFDWEUsUUFBV0EsR0FFZk0sUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVVELEVBQWEsS0FDdkJFLEVBQWNkLEVBQUUsaUJBQ2hCZSxFQUFNQyxTQUFTLGVBQWdCLENBQUNILFFBQVdBLElBQy9DQyxFQUFZRyxRQUFRRixHQUNwQmQsRUFBU0csSUFBSSxJQUNiYyxPQUFPQyxXQUFXQyxZQUFZLGdCQUU5QkYsT0FBT0MsV0FBV0UsVUFBVVQsRUFBZ0IsZUFPaEVoQixTQUFTQyxVQUFVeUIsSUFBTSxXQUNWQyxLQUNOekIscUJBR1RFLEVBQUUsWUFDYSxJQUFJSixVQUNWMEIiLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTmV3c0xpc3QoKXtcclxuXHJcbn1cclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5saXN0ZW5TdWJtaXRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJChcIi5zdWJtaXQtYnRuXCIpO1xyXG4gICAgdmFyIHRleHRhcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZXh0YXJlYS52YWwoKTtcclxuICAgICAgICB2YXIgbmV3c19pZCA9IHN1Ym1pdEJ0bi5hdHRyKFwibmV3cy1pZFwiKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL3B1YmxpY19jb21tZW50LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOiBuZXdzX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRMaXN0ID0gJChcIi5jb21tZW50LWxpc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwiY29tbWVudC1pdGVtXCIsIHtcImNvbW1lbnRcIjogY29tbWVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0LnByZXBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoXCLlj5Hooajor4TorrrmiJDlip/vvIFcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmV3cyA9IG5ldyBOZXdzTGlzdCgpO1xyXG4gICAgbmV3cy5ydW4oKTtcclxufSk7Il19
